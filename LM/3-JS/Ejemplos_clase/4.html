<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Ejercicio 4: Búsqueda por Atributo y Eventos</title>
    <style>
      .inicio {
        font-weight: bold;
        border-bottom: 2px solid #000;
      }
    </style>
  </head>
  <body>
    <p data-estado="activo">Párrafo 1</p>
    <p>Párrafo 2</p>
    <p data-estado="inactivo">Párrafo 3</p>
    <p>Párrafo 4</p>
    <p>Párrafo 5</p>
    <p data-estado="activo">Párrafo 6</p>
    <p>Párrafo 7</p>
    <script>
      let parrafos = document.querySelectorAll("p");
      parrafos.forEach((p) => {
        if (p.getAttribute("data-estado") === "activo") {
          p.style.backgroundColor = "lightgreen";
        }
      });

      let parrafo5 = parrafos[4];
      let enlaceInfo = document.createElement("a");
      enlaceInfo.href = "#";
      enlaceInfo.innerHTML = " Más información";
      enlaceInfo.addEventListener("click", (event) => {
        event.preventDefault(); // prevenir comportamiento por defecto
        console.log("Enlace activado");
      });
      parrafo5.appendChild(enlaceInfo);

      let nuevoInicio = document.createElement("p");
      nuevoInicio.innerHTML = "Inicio del documento";
      nuevoInicio.classList.add("inicio");
      document.body.insertBefore(nuevoInicio, document.body.firstChild);

      parrafos.forEach((p) => {
        if (p.getAttribute("data-estado") === "inactivo") {
          p.parentNode.removeChild(p);
          return;
        }
      });
    </script>
  </body>
</html>
